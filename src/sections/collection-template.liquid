
{% paginate collection.products by section.settings.limit %}
  <header role="banner" class="collection-header">
    <h1>{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <div class="rte">
        {{ collection.description }}
      </div>
    {% endif %}

    {% if collection.all_tags.size > 0 and section.settings.show_tags == true %}
      <ul>
        {% for tag in collection.all_tags %}
          {% if current_tags contains tag %}
            <li class="active">
              {{ tag | link_to_remove_tag: tag }}
            </li>
          {% else %}
            <li>
              {{ tag | link_to_tag: tag }}
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    {% endif %}
  </header>

  
  
  {% capture max %}{%if collection.products.size <= section.settings.limit%}{{collection.products.size}}{% elsif section.settings.limit == 0%}100{%else%}{{section.settings.limit}}{%endif%}{%endcapture%}
  <div class="collection-grid product-grid size--{{section.settings.size}}" data-max="{{max}}" > 
  
  {% for product in collection.products limit: section.settings.limit %}
    {% include 'grid-item' with secondary_image: {{section.settings.secondary_image}}, show_price: {{section.settings.show_price}}, simplify: {{section.settings.simplify}}, hover_details: {{section.settings.hoverer}} %}
    {% assign delay = delay | plus: 50 %} 
  {% else %}
    {% for i in (1..6) %}
      <a href="#" class="featured-collection-item">
        {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
        {{ 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg placeholder-svg--small' }}

        <p>{{ 'homepage.onboarding.product_title' | t }}</p>
        <p>{{ 1999 | money }}</p>
      </a>
    {% endfor %}
  {% endfor %}
  </div>

  {% if paginate.pages > 1 %}
    {% include 'pagination' %}
  {% endif %}
{% endpaginate %}

{% schema %}
  {
    "name" : "Collection Settings",
    "settings" : [
      {
        "type" : "header",
        "content" : "Collection settings"
      },
      {
        "type" : "checkbox",
        "id" : "show_tags",
        "label" : "Show Tags?"
      },
      {
        "type" : "select",
        "id" : "size",
        "label" : "Grid Size",
        "options" : [
          {
            "value" : "small",
            "label" : "Small"
          },
          {
            "value" : "standard",
            "label" : "Standard"
          },
          {
            "value" : "large",
            "label" : "Large"
          }
        ]
      },
       {
        "type" : "range",
        "id" : "limit",
        "label" : "Limit",
        "default" : 8,
        "max": 30,
        "min" : 0,
        "step" : 1
      },
     

      
      {
        "type" : "header",
        "content" : "Product Settings"
      },
       {
        "type" : "checkbox",
        "id" : "secondary_image",
        "label" : "Second Image on Hover",
        "info" : "No effect if no secondary image",
        "default" : true
      },
      {
        "type" : "checkbox",
        "id" : "show_price",
        "label" : "Show Price?",
        "default" : true
      },
      {
        "type" : "checkbox",
        "id" : "simplify",
        "label" : "Simplify?",
        "info" : "Hides everything other than photo!"
      },
      {
        "type" : "checkbox",
        "id" : "hoverer",
        "label" : "Details on hover?"
      }
    ]
  }
{% endschema %}